# [오픈소스 보안] 강력한 무료 SIEM/XDR 솔루션, Wazuh(와주) 4.14 완벽 가이드 및 설치 방법

IT 인프라 규모가 커지고 다양한 미들웨어(Web/WAS, Kafka, Redis 등)와 컨테이너 환경이 혼재되면서, 시스템 전체의 로그를 중앙 집중화하고 보안 위협을 모니터링하는 것은 IT 운영팀의 핵심 과제가 되었습니다.

이러한 환경에서 상용 솔루션 도입이 부담스럽다면, 오픈소스 기반의 강력한 SIEM(보안 정보 및 이벤트 관리) 및 XDR(확장형 탐지 및 대응) 플랫폼인 **Wazuh(와주)** 가 훌륭한 대안이 될 수 있습니다.

이번 포스팅에서는 최신 버전인 **Wazuh 4.14**의 핵심 기능과, 단일 서버(All-in-one) 환경에서 스크립트 한 줄로 간편하게 구축하는 방법을 정리해 보겠습니다.

## 1. Wazuh(와주)란 무엇인가?

Wazuh는 서버, 가상 머신, 클라우드 및 컨테이너 환경 전반에 걸쳐 엔드포인트 보안 모니터링을 제공하는 무료 오픈소스 플랫폼입니다. 단순히 보안 위협만 탐지하는 것을 넘어, 시스템 운영에 필요한 심도 있는 가시성을 제공합니다.

### IT 운영 및 인프라 관점에서의 주요 장점

* **통합 로그 수집 및 분석:** Linux/Windows 서버의 OS 로그는 물론, Nginx, Tomcat, DB 등 다양한 애플리케이션의 로그를 파싱하여 인덱싱합니다. 에러 추적이나 장애 원인 분석에 매우 유용합니다.
* **파일 무결성 모니터링 (FIM):** `/etc` 디렉터리 내의 중요 설정 파일이나 Windows Active Directory 환경의 핵심 파일이 변경될 경우 실시간으로 알림을 발생시켜, 무단 변경으로 인한 장애를 예방합니다.
* **운영 지표(KPI) 및 리포팅:** 시스템 취약점 상태, 규정 준수 현황, 비정상 로그인 시도 등을 수치화하여 대시보드로 제공하므로, IT 운영 및 보안 관련 정량적 KPI를 수립하고 보고하는 데 활용하기 좋습니다.
* **가벼운 에이전트 자원 소모:** C언어로 개발된 에이전트는 CPU 및 메모리 점유율이 매우 낮아, 리소스에 민감한 운영 서버에 설치해도 부담이 없습니다.

## 2. Wazuh 핵심 아키텍처 구성

Wazuh는 크게 중앙 서버 역할을 하는 3개의 컴포넌트와, 모니터링 대상에 설치되는 에이전트로 구성됩니다.

1. **Wazuh Indexer:** 수집된 방대한 로그와 알람 데이터를 저장, 검색, 분석하는 고성능 검색 엔진입니다.
2. **Wazuh Server:** 에이전트가 보내온 데이터를 분석하고, 사전에 정의된 룰셋(Rule-set)과 매칭하여 위협을 탐지합니다.
3. **Wazuh Dashboard:** 분석된 데이터를 시각화하는 웹 기반의 직관적인 사용자 인터페이스입니다.
4. **Wazuh Agent:** 모니터링 대상 서버(Linux, Windows, macOS 등)에 설치되어 데이터를 수집하고 Server로 전송합니다.

## 3. Wazuh 4.14 설치 가이드 (All-in-one 방식)

Wazuh는 각 컴포넌트를 분산 설치할 수도 있지만, 테스트 환경이나 중소규모 인프라에서는 하나의 서버에 모두 설치하는 **All-in-one 설치**가 효율적입니다. 공식 설치 스크립트를 사용하면 단 몇 분 만에 구축이 완료됩니다.

### 요구 사항

* **OS:** Ubuntu 20.04/22.04/24.04, CentOS/RHEL 8, 9 등 (최소 4GB RAM, 2 CPU 권장)
* **네트워크:** 외부 패키지 다운로드를 위한 인터넷 연결 (또는 폐쇄망용 오프라인 설치 패키지 필요)

### 자동 설치 명령어 실행

설치할 서버에 SSH로 접속한 뒤, 다음 스크립트를 실행합니다.

```bash
curl -sO https://packages.wazuh.com/4.14/wazuh-install.sh && sudo bash ./wazuh-install.sh -a

```

* `curl -sO ...`: 공식 리포지토리에서 4.14 버전용 설치 셸 스크립트를 다운로드합니다.
* `-a` (Assistant): 사용자 개입 없이 시스템 요구사항 확인, 인증서 생성, 종속성 패키지 설치, Indexer/Server/Dashboard 설치 및 기동을 모두 자동으로 진행하는 핵심 옵션입니다.

### 설치 완료 및 접속 정보 확인

설치 스크립트가 성공적으로 완료되면 터미널 화면 맨 아래에 웹 대시보드 접속 정보가 출력됩니다. 이 정보는 보안상 **반드시 별도로 기록**해 두어야 합니다.

```text
INFO: --- Summary ---
INFO: You can access the web interface https://<서버_IP>
    User: admin
    Password: <자동_생성된_임의의_비밀번호>
INFO: Installation finished.

```

## 4. 설치 후 초기 접속 및 확인

1. 웹 브라우저를 열고 `https://<서버_IP>` 로 접속합니다. (초기 접속 시 자체 서명된 인증서로 인해 브라우저 경고가 발생할 수 있으나 무시하고 접속을 진행합니다.)
2. 터미널에서 확인한 `admin` 계정과 비밀번호를 입력하여 로그인합니다.
3. 첫 화면에서 Wazuh Dashboard가 정상적으로 초기화되는 것을 확인하면 구축이 완료된 것입니다.

## 마무리

스크립트 한 줄만으로 강력한 엔터프라이즈급 모니터링 및 보안 솔루션을 구축할 수 있다는 점은 Wazuh의 가장 큰 매력 중 하나입니다.

서버 구축이 완료되었다면, 다음 단계는 운영 중인 Linux 서버나 Windows 환경에 **Wazuh Agent를 배포**하고 커스텀 로그 수집 및 탐지 룰을 튜닝하는 것입니다. 다음 포스팅에서는 다양한 OS 환경에 Agent를 일괄 배포하는 방법과 미들웨어 로그 파싱 설정에 대해 다루어 보겠습니다.

---

블로그에 작성하실 때 본문의 서식(볼드체, 목록 등)이 마크다운 에디터에서 잘 렌더링될 것입니다.

추가로, 다음 시리즈 글로 구상해 둔 "Wazuh Agent 설치 및 배포 방법"에 대한 초안도 이어서 작성해 드릴까요?
